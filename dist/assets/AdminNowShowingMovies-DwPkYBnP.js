import{u as g,r as a,j as r,T as h,G as l,B as i,b as f,e as u,V as w}from"./index-hKNTF3Dt.js";const y=({onMovieSelect:o,selectedMovieId:t})=>{const c=g(),[d,x]=a.useState([]),[m,n]=a.useState(!0);a.useEffect(()=>{(async()=>{try{n(!0);const s=await u.get("/movie/showing/page/0/size/100");x(s.data)}catch(s){console.error("Error fetching now showing movies:",s),w.error("Không thể tải danh sách phim đang chiếu")}finally{n(!1)}})()},[]);const p=e=>{o?o(e.movieId):c(`/admin/ql-ban-ve/ticket/${e.movieId}`)};return m?r.jsx(h,{children:"Đang tải danh sách phim..."}):r.jsx(l,{container:!0,spacing:3,children:d.map(e=>r.jsx(l,{item:!0,xs:12,sm:6,md:3,children:r.jsxs(i,{sx:{display:"flex",flexDirection:"column",height:"100%",borderRadius:"12px",overflow:"hidden",transition:"transform 0.3s ease, box-shadow 0.3s ease",bgcolor:"background.paper",boxShadow:3,"&:hover":{transform:"translateY(-8px)",boxShadow:6}},children:[r.jsx(i,{sx:{position:"relative"},children:r.jsx(i,{sx:{position:"relative",overflow:"hidden",height:{xs:"200px",sm:"250px"},width:"100%"},children:r.jsx("img",{src:e.image,alt:e.movieName,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"contain",transition:"transform 0.5s ease"},onMouseOver:s=>{s.currentTarget.style.transform="scale(1.05)"},onMouseOut:s=>{s.currentTarget.style.transform="scale(1)"}})})}),r.jsxs(i,{sx:{p:2.5,display:"flex",flexDirection:"column",flexGrow:1},children:[r.jsx(h,{variant:"h6",sx:{height:"3em",mb:2,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",fontSize:{xs:"1rem",sm:"1.1rem"}},children:e.movieName}),r.jsx(i,{sx:{mt:"auto"},children:r.jsx(f,{variant:"contained",fullWidth:!0,onClick:()=>p(e),sx:{bgcolor:t===e.movieId?"primary.dark":"primary.main","&:hover":{bgcolor:(t===e.movieId,"primary.dark")}},children:t===e.movieId?"Đã chọn":"Chọn phim này"})})]})]})},e.movieId))})};export{y as A};
