import{c as ot,j as k,bN as Et,bO as Lt,ax as at,aw as st,r as Mt,f as St,bP as Xt}from"./index-ChydTw30.js";const Qt=ot(k.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),te=ot(k.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),ee=ot([k.jsx("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),k.jsx("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),k.jsx("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")],"PeopleAlt"),Yt=["label","icon","showInMenu","onClick"],At=["label","icon","showInMenu","onClick","closeMenuOnClick","closeMenu"],ne=Et((t,e)=>{var h;const n=Lt();if(!t.showInMenu){const{label:u,icon:f,onClick:w}=t,g=at(t,Yt),c=L=>{w==null||w(L)};return k.jsx(n.slots.baseIconButton,st({size:"small",role:"menuitem","aria-label":u},g,{onClick:c},(h=n.slotProps)==null?void 0:h.baseIconButton,{ref:e,children:Mt.cloneElement(f,{fontSize:"small"})}))}const{label:o,icon:i,onClick:l,closeMenuOnClick:s=!0,closeMenu:a}=t,d=at(t,At),m=u=>{l==null||l(u),s&&(a==null||a())};return k.jsxs(St,st({ref:e},d,{onClick:m,children:[i&&k.jsx(Xt,{children:i}),o]}))});function ct(t){return typeof t=="object"&&t!==null&&"x"in t&&"y"in t&&"unit"in t&&typeof t.unit=="string"&&typeof t.x=="object"&&typeof t.y=="object"&&"topLeft"in t.x&&"topRight"in t.x&&"bottomRight"in t.x&&"bottomLeft"in t.x&&"topLeft"in t.y&&"topRight"in t.y&&"bottomRight"in t.y&&"bottomLeft"in t.y}function gt(t){var e;const n=t.match(/(\d+(?:\.\d+)?)(px|%)/g);if(!n)return{x:{topLeft:0,topRight:0,bottomRight:0,bottomLeft:0},y:{topLeft:0,topRight:0,bottomRight:0,bottomLeft:0},unit:"px"};const o=n.map(h=>{const[u,f,w]=h.match(/(\d+(?:\.\d+)?)(px|%)/)??[];return{value:parseFloat(f),unit:w}}),i=((e=o[0])==null?void 0:e.unit)||"px";if(o.some(h=>h.unit!==i))throw new Error("Inconsistent units in border-radius string.");const[l,s,a,d]=o.map(h=>h.value),m={topLeft:l??0,topRight:s??l??0,bottomRight:a??l??0,bottomLeft:d??s??l??0};return{x:{...m},y:{...m},unit:i}}function wt({x:t,y:e,unit:n},o,i){if(n==="px"){const l={topLeft:t.topLeft/o,topRight:t.topRight/o,bottomLeft:t.bottomLeft/o,bottomRight:t.bottomRight/o},s={topLeft:e.topLeft/i,topRight:e.topRight/i,bottomLeft:e.bottomLeft/i,bottomRight:e.bottomRight/i};return{x:l,y:s,unit:"px"}}else if(n==="%")return{x:t,y:e,unit:"%"};return{x:t,y:e,unit:n}}function Z(t){return`
    ${t.x.topLeft}${t.unit} ${t.x.topRight}${t.unit} ${t.x.bottomRight}${t.unit} ${t.x.bottomLeft}${t.unit}
    /
    ${t.y.topLeft}${t.unit} ${t.y.topRight}${t.unit} ${t.y.bottomRight}${t.unit} ${t.y.bottomLeft}${t.unit}
  `}function ut(t){return t.x.topLeft===0&&t.x.topRight===0&&t.x.bottomRight===0&&t.x.bottomLeft===0&&t.y.topLeft===0&&t.y.topRight===0&&t.y.bottomRight===0&&t.y.bottomLeft===0}function dt(t){return typeof t=="object"&&"x"in t&&"y"in t}function H(t,e){return{x:t,y:e}}function Tt(t,e){return H(t.x+e.x,t.y+e.y)}function Ct(t,e){return H(t.x-e.x,t.y-e.y)}function Ht(t,e){return H(t.x*e,t.y*e)}function C(t,e,n){return t+(e-t)*n}function $t(t,e,n){return Tt(t,Ht(Ct(e,t),n))}function xt(t,e,n){return{x:{topLeft:C(t.x.topLeft,e.x.topLeft,n),topRight:C(t.x.topRight,e.x.topRight,n),bottomRight:C(t.x.bottomRight,e.x.bottomRight,n),bottomLeft:C(t.x.bottomLeft,e.x.bottomLeft,n)},y:{topLeft:C(t.y.topLeft,e.y.topLeft,n),topRight:C(t.y.topRight,e.y.topRight,n),bottomRight:C(t.y.bottomRight,e.y.bottomRight,n),bottomLeft:C(t.y.bottomLeft,e.y.bottomLeft,n)},unit:t.unit}}function Dt(t,e,n){return V((n-t)/(e-t),0,1)}function G(t,e,n,o,i){return C(n,o,Dt(t,e,i))}function V(t,e,n){return Math.min(Math.max(t,e),n)}const Bt={duration:350,easing:t=>t};function vt(t,e,n,o){let i=!1;const l=()=>{i=!0},s={...Bt,...o};let a;function d(m){a===void 0&&(a=m);const h=m-a,u=V(h/s.duration,0,1),f=Object.keys(t),w=Object.keys(e);if(!f.every(c=>w.includes(c))){console.error("animate Error: `from` keys are different than `to`");return}const g={};f.forEach(c=>{typeof t[c]=="number"&&typeof e[c]=="number"?g[c]=C(t[c],e[c],s.easing(u)):ct(t[c])&&ct(e[c])?g[c]=xt(t[c],e[c],s.easing(u)):dt(t[c])&&dt(e[c])&&(g[c]=$t(t[c],e[c],s.easing(u)))}),n(g,u>=1,u),u<1&&!i&&requestAnimationFrame(d)}return requestAnimationFrame(d),l}const jt={startDelay:0,targetEl:null};function Ft(t,e){const n={...jt,...e};let o=t.el(),i=!1,l=null,s=null,a=null,d=null,m=0,h=0,u=0,f=0,w=0,g=0,c=0,L=0,r=0,E=0,R=null,y;o.addEventListener("pointerdown",I),document.body.addEventListener("pointerup",v),document.body.addEventListener("pointermove",M),document.body.addEventListener("touchmove",Y,{passive:!1});function I(p){if(n.targetEl&&p.target!==n.targetEl&&!n.targetEl.contains(p.target)||i||!p.isPrimary)return;n.startDelay>0?(a==null||a({el:p.target}),y=setTimeout(()=>{B()},n.startDelay)):B();function B(){R=p.target;const A=t.boundingRect(),W=t.layoutRect();w=W.x,g=W.y,u=A.x-w,f=A.y-g,m=p.clientX-u,h=p.clientY-f,c=p.clientX,L=p.clientY,r=(p.clientX-A.x)/A.width,E=(p.clientY-A.y)/A.height,i=!0,M(p)}}function x(){const p=t.layoutRect();m-=w-p.x,h-=g-p.y,w=p.x,g=p.y}function v(p){if(!i){y&&(clearTimeout(y),y=null,d==null||d({el:p.target}));return}if(!p.isPrimary)return;i=!1;const B=p.clientX-c,A=p.clientY-L;s==null||s({x:u,y:f,pointerX:p.clientX,pointerY:p.clientY,width:B,height:A,relativeX:r,relativeY:E,el:R}),R=null}function M(p){if(!i){y&&(clearTimeout(y),y=null,d==null||d({el:p.target}));return}if(!p.isPrimary)return;const B=p.clientX-c,A=p.clientY-L,W=u=p.clientX-m,J=f=p.clientY-h;l==null||l({width:B,height:A,x:W,y:J,pointerX:p.clientX,pointerY:p.clientY,relativeX:r,relativeY:E,el:R})}function Y(p){if(!i)return!0;p.preventDefault()}function S(p){l=p}function $(p){s=p}function F(p){a=p}function P(p){d=p}function D(){o.removeEventListener("pointerdown",I),o=t.el(),o.addEventListener("pointerdown",I)}function q(){t.el().removeEventListener("pointerdown",I),document.body.removeEventListener("pointerup",v),document.body.removeEventListener("pointermove",M),document.body.removeEventListener("touchmove",Y),l=null,s=null,a=null,d=null}return{onDrag:S,onDrop:$,onHold:F,onRelease:P,onElementUpdate:D,destroy:q,readjust:x}}function Pt(t){return 1+2.70158*Math.pow(t-1,3)+1.70158*Math.pow(t-1,2)}function kt(t){return 1-Math.pow(1-t,3)}function U(t){return{x:t.x,y:t.y,width:t.width,height:t.height}}function qt(t){const e=t.getBoundingClientRect();let n=0,o=0,i=t.parentElement;for(;i;){const l=getComputedStyle(i).transform;if(l&&l!=="none"){const s=l.match(/matrix.*\((.+)\)/);if(s){const a=s[1].split(", ").map(Number);n+=a[4]||0,o+=a[5]||0}}i=i.parentElement}return{y:e.top-o,x:e.left-n,width:e.width,height:e.height}}function Q(t){let e=t,n=0,o=0;for(;e;)n+=e.offsetTop,o+=e.offsetLeft,e=e.offsetParent;return{x:o,y:n,width:t.offsetWidth,height:t.offsetHeight}}function ft(t,e){return t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height}function Ot(t){let e=t,n=0,o=0;for(;e;){const i=l=>{const s=getComputedStyle(l);return/(auto|scroll)/.test(s.overflow+s.overflowY+s.overflowX)};if(e===document.body){o+=window.scrollX,n+=window.scrollY;break}i(e)&&(o+=e.scrollLeft,n+=e.scrollTop),e=e.parentElement}return{x:o,y:n}}function tt(t){let e="unread",n,o,i,l,s,a,d,m,h,u,f;function w(){n=t.currentTransform(),o=qt(t.el()),i=Ot(t.el()),f=ht(t.el()).map(({parent:r,children:E})=>({parent:{el:r,initialRect:U(r.getBoundingClientRect())},children:E.filter(R=>R instanceof HTMLElement).map(R=>{const y=R;return y.originalBorderRadius||(y.originalBorderRadius=getComputedStyle(R).borderRadius),{el:R,borderRadius:gt(y.originalBorderRadius),initialRect:U(R.getBoundingClientRect())}})})),e="readInitial"}function g(){if(e!=="readInitial")throw new Error("FlipView: Cannot read final values before reading initial values");h=t.layoutRect(),a=o.width/h.width,d=o.height/h.height,l=o.x-h.x-n.dragX+i.x,s=o.y-h.y-n.dragY+i.y,m=wt(t.borderRadius(),a,d);const r=ht(t.el());f=f.map(({parent:R,children:y},I)=>{const x=r[I].parent;return{parent:{...R,el:x,finalRect:Q(x)},children:y.map((v,M)=>{const Y=r[I].children[M];let S=Q(Y);return Y.hasAttribute("data-swapy-text")&&(S={...S,width:v.initialRect.width,height:v.initialRect.height}),{...v,el:Y,finalRect:S}})}});const E={translateX:l,translateY:s,scaleX:a,scaleY:d};t.el().style.transformOrigin="0 0",t.el().style.borderRadius=Z(m),t.setTransform(E),u=[],f.forEach(({parent:R,children:y})=>{const I=y.map(({el:x,initialRect:v,finalRect:M,borderRadius:Y})=>Wt(x,v,M,Y,R.initialRect,R.finalRect));u.push(...I)}),e="readFinal"}function c(){if(e!=="readFinal")throw new Error("FlipView: Cannot get transition values before reading");return{from:{width:o.width,height:o.height,translate:H(l,s),scale:H(a,d),borderRadius:m},to:{width:h.width,height:h.height,translate:H(0,0),scale:H(1,1),borderRadius:t.borderRadius()}}}function L(){if(e!=="readFinal")throw new Error("FlipView: Cannot get children transition values before reading");return u}return{readInitial:w,readFinalAndReverse:g,transitionValues:c,childrenTransitionData:L}}function Wt(t,e,n,o,i,l){t.style.transformOrigin="0 0";const s=i.width/l.width,a=i.height/l.height,d=e.width/n.width,m=e.height/n.height,h=wt(o,d,m),u=e.x-i.x,f=n.x-l.x,w=e.y-i.y,g=n.y-l.y,c=(u-f*s)/s,L=(w-g*a)/a;return t.style.transform=`translate(${c}px, ${L}px) scale(${d/s}, ${m/a})`,t.style.borderRadius=Z(h),{el:t,fromTranslate:H(c,L),fromScale:H(d,m),fromBorderRadius:h,toBorderRadius:o,parentScale:{x:s,y:a}}}function ht(t){const e=[];function n(o){const i=Array.from(o.children).filter(l=>l instanceof HTMLElement);i.length>0&&(e.push({parent:o,children:i}),i.forEach(l=>n(l)))}return n(t),e}function bt(t){const e=[];let n=t,o={dragX:0,dragY:0,translateX:0,translateY:0,scaleX:1,scaleY:1};const i=gt(window.getComputedStyle(n).borderRadius),l={el:()=>n,setTransform:s,clearTransform:a,currentTransform:()=>o,borderRadius:()=>i,layoutRect:()=>Q(n),boundingRect:()=>U(n.getBoundingClientRect()),usePlugin:m,destroy:h,updateElement:u};function s(f){o={...o,...f},d()}function a(){o={dragX:0,dragY:0,translateX:0,translateY:0,scaleX:1,scaleY:1},d()}function d(){const{dragX:f,dragY:w,translateX:g,translateY:c,scaleX:L,scaleY:r}=o;f===0&&w===0&&g===0&&c===0&&L===1&&r===1?n.style.transform="":n.style.transform=`translate(${f+g}px, ${w+c}px) scale(${L}, ${r})`}function m(f,w){const g=f(l,w);return e.push(g),g}function h(){e.forEach(f=>f.destroy())}function u(f){if(!f)return;const w=n.hasAttribute("data-swapy-dragging"),g=n.style.cssText;n=f,w&&n.setAttribute("data-swapy-dragging",""),n.style.cssText=g,e.forEach(c=>c.onElementUpdate())}return l}const zt={animation:"dynamic",enabled:!0,swapMode:"hover",dragOnHold:!1,autoScrollOnDrag:!1,dragAxis:"both",manualSwap:!1};function Rt(t){switch(t){case"dynamic":return{easing:kt,duration:300};case"spring":return{easing:Pt,duration:350};case"none":return{easing:e=>e,duration:1}}}function oe(t,e){const n={...zt,...e},o=_t({slots:[],items:[],config:n});let i=[],l=[];s();function s(){if(!Gt(t))throw new Error("Cannot create a Swapy instance because your HTML structure is invalid. Fix all above errors and then try!");i=Array.from(t.querySelectorAll("[data-swapy-slot]")).map(r=>Nt(r,o)),o.setSlots(i),l=Array.from(t.querySelectorAll("[data-swapy-item]")).map(r=>Vt(r,o)),o.setItems(l),o.syncSlotItemMap(),l.forEach(r=>{r.onDrag(({pointerX:E,pointerY:R})=>{d();let y=!1;i.forEach(I=>{const x=I.rect();ft({x:E,y:R},x)&&(y=!0,I.isHighlighted()||I.highlight())}),!y&&o.config().swapMode==="drop"&&r.slot().highlight(),n.swapMode==="hover"&&a(r,{pointerX:E,pointerY:R})}),r.onDrop(({pointerX:E,pointerY:R})=>{m(),n.swapMode==="drop"&&a(r,{pointerX:E,pointerY:R})}),r.onHold(()=>{d()}),r.onRelease(()=>{m()})})}function a(r,{pointerX:E,pointerY:R}){i.forEach(y=>{const I=y.rect();if(ft({x:E,y:R},I)){if(r.id()===y.itemId())return;o.config().swapMode==="hover"&&r.setContinuousDrag(!0);const x=r.slot(),v=y.item();if(!o.eventHandlers().onBeforeSwap({fromSlot:x.id(),toSlot:y.id(),draggingItem:r.id(),swapWithItem:(v==null?void 0:v.id())||""}))return;if(o.config().manualSwap){const M=structuredClone(o.slotItemMap());o.swapItems(r,y);const Y=o.slotItemMap(),S=tt(r.view());S.readInitial();const $=v?tt(v.view()):null;$==null||$.readInitial();let F=0,P=0;const D=nt(r.view().el());D instanceof Window?(F=D.scrollY,P=D.scrollX):(F=D.scrollTop,P=D.scrollLeft),o.eventHandlers().onSwap({oldSlotItemMap:M,newSlotItemMap:Y,fromSlot:x.id(),toSlot:y.id(),draggingItem:r.id(),swappedWithItem:(v==null?void 0:v.id())||""}),requestAnimationFrame(()=>{const q=t.querySelectorAll("[data-swapy-item]");o.items().forEach(p=>{const B=Array.from(q).find(A=>A.dataset.swapyItem===p.id());p.view().updateElement(B)}),o.syncSlotItemMap(),S.readFinalAndReverse(),$==null||$.readFinalAndReverse(),et(r,S),v&&$&&et(v,$),D.scrollTo({left:P,top:F})})}else{let M=0,Y=0;const S=nt(r.view().el());S instanceof Window?(M=S.scrollY,Y=S.scrollX):(M=S.scrollTop,Y=S.scrollLeft),pt(r,y,!0),v&&pt(v,x),S.scrollTo({left:Y,top:M});const $=o.slotItemMap();o.syncSlotItemMap();const F=o.slotItemMap();o.eventHandlers().onSwap({oldSlotItemMap:$,newSlotItemMap:F,fromSlot:x.id(),toSlot:y.id(),draggingItem:r.id(),swappedWithItem:(v==null?void 0:v.id())||""})}}})}function d(){t.querySelectorAll("img").forEach(r=>{r.style.pointerEvents="none"}),t.style.userSelect="none",t.style.webkitUserSelect="none"}function m(){t.querySelectorAll("img").forEach(r=>{r.style.pointerEvents=""}),t.style.userSelect="",t.style.webkitUserSelect=""}function h(r){o.config().enabled=r}function u(r){o.eventHandlers().onSwapStart=r}function f(r){o.eventHandlers().onSwap=r}function w(r){o.eventHandlers().onSwapEnd=r}function g(r){o.eventHandlers().onBeforeSwap=r}function c(){L(),requestAnimationFrame(()=>{s()})}function L(){l.forEach(r=>r.destroy()),i.forEach(r=>r.destroy()),o.destroy(),l=[],i=[]}return{enable:h,slotItemMap:()=>o.slotItemMap(),onSwapStart:u,onSwap:f,onSwapEnd:w,onBeforeSwap:g,update:c,destroy:L}}function _t({slots:t,items:e,config:n}){const o={slots:t,items:e,config:n,slotItemMap:{asObject:{},asMap:new Map,asArray:[]},zIndexCount:1,eventHandlers:{onSwapStart:()=>{},onSwap:()=>{},onSwapEnd:()=>{},onBeforeSwap:()=>!0},scrollOffsetWhileDragging:{x:0,y:0},scrollHandler:null};let i={...o};const l=u=>{var f;(f=i.scrollHandler)==null||f.call(i,u)};window.addEventListener("scroll",l);function s(u){return i.slots.find(f=>f.id()===u)}function a(u){return i.items.find(f=>f.id()===u)}function d(){const u={},f=new Map,w=[];i.slots.forEach(g=>{var c;const L=g.id(),r=((c=g.item())==null?void 0:c.id())||"";u[L]=r,f.set(L,r),w.push({slot:L,item:r})}),i.slotItemMap={asObject:u,asMap:f,asArray:w}}function m(u,f){var w;const g=i.slotItemMap,c=u.id(),L=((w=f.item())==null?void 0:w.id())||"",r=f.id(),E=u.slot().id();g.asObject[r]=c,g.asObject[E]=L,g.asMap.set(r,c),g.asMap.set(E,L);const R=g.asArray.findIndex(I=>I.slot===r),y=g.asArray.findIndex(I=>I.slot===E);g.asArray[R].item=c,g.asArray[y].item=L}function h(){window.removeEventListener("scroll",l),i={...o}}return{slots:()=>i.slots,items:()=>i.items,config:()=>n,setItems:u=>i.items=u,setSlots:u=>i.slots=u,slotById:s,itemById:a,zIndex:(u=!1)=>u?++i.zIndexCount:i.zIndexCount,resetZIndex:()=>{i.zIndexCount=1},eventHandlers:()=>i.eventHandlers,syncSlotItemMap:d,slotItemMap:(u=!1)=>u?structuredClone(i.slotItemMap):i.slotItemMap,onScroll:u=>{i.scrollHandler=u},swapItems:m,destroy:h}}function Nt(t,e){const n=bt(t);function o(){return n.el().dataset.swapySlot}function i(){const h=n.el().children[0];return(h==null?void 0:h.dataset.swapyItem)||null}function l(){return U(n.el().getBoundingClientRect())}function s(){const h=n.el().children[0];if(h)return e.itemById(h.dataset.swapyItem)}function a(){e.slots().forEach(h=>{h.view().el().removeAttribute("data-swapy-highlighted")})}function d(){a(),n.el().setAttribute("data-swapy-highlighted","")}function m(){}return{id:o,view:()=>n,itemId:i,rect:l,item:s,highlight:d,unhighlightAllSlots:a,isHighlighted:()=>n.el().hasAttribute("data-swapy-highlighted"),destroy:m}}function Vt(t,e){const n=bt(t),o={};let i=null,l=null,s=!1,a=!0,d;const m=Ut();let h=()=>{},u=()=>{},f=()=>{},w=()=>{};const{onDrag:g,onDrop:c,onHold:L,onRelease:r}=n.usePlugin(Ft,{startDelay:e.config().dragOnHold?400:0,targetEl:P()}),E=H(0,0),R=H(0,0),y=H(0,0),I=H(0,0);let x=null,v=null;L(b=>{e.config().enabled&&(q()&&!D(b.el)||A()&&B(b.el)||f==null||f(b))}),r(b=>{e.config().enabled&&(q()&&!D(b.el)||A()&&B(b.el)||w==null||w(b))});function M(b){var X;W(),K().highlight(),(X=o.drop)==null||X.call(o);const T=e.slots().map(j=>j.view().boundingRect());e.slots().forEach((j,z)=>{const _=T[z];j.view().el().style.width=`${_.width}px`,j.view().el().style.maxWidth=`${_.width}px`,j.view().el().style.flexShrink="0",j.view().el().style.height=`${_.height}px`});const O=e.slotItemMap(!0);e.eventHandlers().onSwapStart({draggingItem:it(),fromSlot:rt(),slotItemMap:O}),l=O,n.el().style.position="relative",n.el().style.zIndex=`${e.zIndex(!0)}`,x=nt(b.el),e.config().autoScrollOnDrag&&(i=Jt(x,e.config().dragAxis),i.updatePointer({x:b.pointerX,y:b.pointerY})),E.x=window.scrollX,E.y=window.scrollY,y.x=0,y.y=0,x instanceof HTMLElement&&(R.x=x.scrollLeft,R.y=x.scrollTop,v=()=>{I.x=x.scrollLeft-R.x,I.y=x.scrollTop-R.y,n.setTransform({dragX:((d==null?void 0:d.width)||0)+y.x+I.x,dragY:((d==null?void 0:d.height)||0)+y.y+I.y})},x.addEventListener("scroll",v)),e.onScroll(()=>{y.x=window.scrollX-E.x,y.y=window.scrollY-E.y;const j=I.x||0,z=I.y||0;n.setTransform({dragX:((d==null?void 0:d.width)||0)+y.x+j,dragY:((d==null?void 0:d.height)||0)+y.y+z})})}g(b=>{var X;if(e.config().enabled){if(!s){if(q()&&!D(b.el)||A()&&B(b.el))return;M(b)}s=!0,i&&i.updatePointer({x:b.pointerX,y:b.pointerY}),d=b,(X=o.drop)==null||X.call(o),m(()=>{n.el().style.position="relative";const T=b.width+y.x+I.x,O=b.height+y.y+I.y;e.config().dragAxis==="y"?n.setTransform({dragY:O}):e.config().dragAxis==="x"?n.setTransform({dragX:T}):n.setTransform({dragX:T,dragY:O}),h==null||h(b)})}}),c(b=>{if(!s)return;J(),s=!1,a=!1,d=null,x&&(x.removeEventListener("scroll",v),v=null),x=null,I.x=0,I.y=0,y.x=0,y.y=0,i&&(i.destroy(),i=null),K().unhighlightAllSlots(),u==null||u(b),e.eventHandlers().onSwapEnd({slotItemMap:e.slotItemMap(),hasChanged:l!=null&&l.asMap?!Zt(l==null?void 0:l.asMap,e.slotItemMap().asMap):!1}),l=null,e.onScroll(null),e.slots().forEach(T=>{T.view().el().style.width="",T.view().el().style.maxWidth="",T.view().el().style.flexShrink="",T.view().el().style.height=""}),e.config().manualSwap&&e.config().swapMode==="drop"?requestAnimationFrame(X):X();function X(){const T=n.currentTransform(),O=T.dragX+T.translateX,j=T.dragY+T.translateY;o.drop=vt({translate:H(O,j)},{translate:H(0,0)},({translate:z},_)=>{_?s||(n.clearTransform(),n.el().style.transformOrigin=""):n.setTransform({dragX:0,dragY:0,translateX:z.x,translateY:z.y}),_&&(e.items().forEach(lt=>{lt.isDragging()||(lt.view().el().style.zIndex="")}),e.resetZIndex(),n.el().style.position="",a=!0)},Rt(e.config().animation))}});function Y(b){h=b}function S(b){u=b}function $(b){f=b}function F(b){w=b}function P(){return n.el().querySelector("[data-swapy-handle]")}function D(b){const X=P();return X?X===b||X.contains(b):!1}function q(){return P()!==null}function p(){return Array.from(n.el().querySelectorAll("[data-swapy-no-drag]"))}function B(b){const X=p();return!X||X.length===0?!1:X.includes(b)||X.some(T=>T.contains(b))}function A(){return p().length>0}function W(){n.el().setAttribute("data-swapy-dragging","")}function J(){n.el().removeAttribute("data-swapy-dragging")}function It(){h=null,u=null,f=null,w=null,d=null,l=null,i&&(i.destroy(),i=null),x&&v&&x.removeEventListener("scroll",v),n.destroy()}function it(){return n.el().dataset.swapyItem}function K(){return e.slotById(n.el().parentElement.dataset.swapySlot)}function rt(){return n.el().parentElement.dataset.swapySlot}return{id:it,view:()=>n,slot:K,slotId:rt,onDrag:Y,onDrop:S,onHold:$,onRelease:F,destroy:It,isDragging:()=>s,cancelAnimation:()=>o,dragEvent:()=>d,store:()=>e,continuousDrag:()=>a,setContinuousDrag:b=>a=b}}function pt(t,e,n=!1){if(n){const i=e.item();i&&(e.view().el().style.position="relative",i.view().el().style.position="absolute")}else{const i=t.slot();i.view().el().style.position="",t.view().el().style.position=""}if(!t)return;const o=tt(t.view());o.readInitial(),e.view().el().appendChild(t.view().el()),o.readFinalAndReverse(),et(t,o)}function Ut(){let t=!1;return e=>{t||(t=!0,requestAnimationFrame(()=>{e(),t=!1}))}}function et(t,e){var n,o,i,l;(o=(n=t.cancelAnimation()).moveToSlot)==null||o.call(n),(l=(i=t.cancelAnimation()).drop)==null||l.call(i);const s=Rt(t.store().config().animation),a=e.transitionValues();let d=t.view().currentTransform(),m=0,h=!1;t.cancelAnimation().moveToSlot=vt({translate:a.from.translate,scale:a.from.scale,borderRadius:a.from.borderRadius},{translate:a.to.translate,scale:a.to.scale,borderRadius:a.to.borderRadius},({translate:u,scale:f,borderRadius:w},g,c)=>{if(t.isDragging()){m!==0&&(h=!0);const r=t.dragEvent().relativeX,E=t.dragEvent().relativeY;t.continuousDrag()?t.view().setTransform({translateX:C(d.translateX,d.translateX+(a.from.width-a.to.width)*r,s.easing(c-m)),translateY:C(d.translateY,d.translateY+(a.from.height-a.to.height)*E,s.easing(c-m)),scaleX:f.x,scaleY:f.y}):t.view().setTransform({scaleX:f.x,scaleY:f.y})}else d=t.view().currentTransform(),m=c,h?t.view().setTransform({scaleX:f.x,scaleY:f.y}):t.view().setTransform({dragX:0,dragY:0,translateX:u.x,translateY:u.y,scaleX:f.x,scaleY:f.y});const L=e.childrenTransitionData();L.forEach(({el:r,fromTranslate:E,fromScale:R,fromBorderRadius:y,toBorderRadius:I,parentScale:x})=>{const v=C(x.x,1,s.easing(c)),M=C(x.y,1,s.easing(c));r.style.transform=`translate(${E.x+(0-E.x/v)*s.easing(c)}px, ${E.y+(0-E.y/M)*s.easing(c)}px) scale(${C(R.x/v,1/v,s.easing(c))}, ${C(R.y/M,1/M,s.easing(c))})`,ut(y)||(r.style.borderRadius=Z(xt(y,I,s.easing(c))))}),ut(w)||(t.view().el().style.borderRadius=Z(w)),g&&(t.isDragging()||(t.view().el().style.transformOrigin="",t.view().clearTransform()),t.view().el().style.borderRadius="",L.forEach(({el:r})=>{r.style.transform="",r.style.transformOrigin="",r.style.borderRadius=""}))},s)}function N(...t){console.error("Swapy Error:",...t)}function Gt(t){const e=t;let n=!0;const o=e.querySelectorAll("[data-swapy-slot]");e||(N("container passed to createSwapy() is undefined or null"),n=!1),o.forEach(a=>{const d=a,m=d.dataset.swapySlot,h=d.children,u=h[0];(!m||m.length===0)&&(N(d,"does not contain a slotId using data-swapy-slot"),n=!1),h.length>1&&(N("slot:",`"${m}"`,"cannot contain more than one element"),n=!1),u&&(!u.dataset.swapyItem||u.dataset.swapyItem.length===0)&&(N("slot",`"${m}"`,"does not contain an element with an item id using data-swapy-item"),n=!1)});const i=Array.from(o).map(a=>a.dataset.swapySlot),l=e.querySelectorAll("[data-swapy-item]"),s=Array.from(l).map(a=>a.dataset.swapyItem);if(mt(i)){const a=yt(i);N("your container has duplicate slot ids",`(${a.join(", ")})`),n=!1}if(mt(s)){const a=yt(s);N("your container has duplicate item ids",`(${a.join(", ")})`),n=!1}return n}function mt(t){return new Set(t).size!==t.length}function yt(t){const e=new Set,n=new Set;for(const o of t)e.has(o)?n.add(o):e.add(o);return Array.from(n)}function Zt(t,e){if(t.size!==e.size)return!1;for(const[n,o]of t)if(e.get(n)!==o)return!1;return!0}function nt(t){let e=t;for(;e;){const n=window.getComputedStyle(e),o=n.overflowY,i=n.overflowX;if((o==="auto"||o==="scroll")&&e.scrollHeight>e.clientHeight||(i==="auto"||i==="scroll")&&e.scrollWidth>e.clientWidth)return e;e=e.parentElement}return window}function Jt(t,e){let n=!1,o,i=0,l=0,s=0,a=0,d=0,m=0,h=null;t instanceof HTMLElement?(o=U(t.getBoundingClientRect()),i=t.scrollHeight-o.height,l=t.scrollWidth-o.width):(o={x:0,y:0,width:window.innerWidth,height:window.innerHeight},i=document.documentElement.scrollHeight-window.innerHeight,l=document.documentElement.scrollWidth-window.innerWidth);function u(){t instanceof HTMLElement?(s=t.scrollTop,a=t.scrollLeft):(s=window.scrollY,a=window.scrollX)}function f(c){n=!1;const L=o.y,r=o.y+o.height,E=o.x,R=o.x+o.width,y=Math.abs(L-c.y)<Math.abs(r-c.y),I=Math.abs(E-c.x)<Math.abs(R-c.x);if(u(),e!=="x")if(y){const x=L-c.y;if(x>=-100){const v=V(x,-100,0);d=-G(-100,0,0,5,v),n=!0}}else{const x=r-c.y;if(x<=100){const v=V(x,0,100);d=G(100,0,0,5,v),n=!0}}if(e!=="y")if(I){const x=E-c.x;if(x>=-100){const v=V(x,-100,0);m=-G(-100,0,0,5,v),n=!0}}else{const x=R-c.x;if(x<=100){const v=V(x,0,100);m=G(100,0,0,5,v),n=!0}}n&&(h&&cancelAnimationFrame(h),w())}function w(){u(),e!=="x"&&(d=s+d>=i?0:d),e!=="y"&&(m=a+m>=l?0:m),t.scrollBy({top:d,left:m}),n&&(h=requestAnimationFrame(w))}function g(){n=!1}return{updatePointer:f,destroy:g}}export{Qt as C,ne as G,ee as P,te as a,oe as k};
