import{a0 as v,u as l,r as n,a as u,j as o,L as g,e as r,V as s}from"./index-hKNTF3Dt.js";import{M}from"./MovieDetail-B8ks1Xrt.js";import"./ScrollFloat-CrX4ruw5.js";function y(){const{movieId:a}=v(),c=l(),[i,p]=n.useState(null),{t:m}=u(),d=async()=>{try{console.log("MovieID: ",a);const e=await r.get(`/movie/${a}`,{headers:{"Content-Type":"application/json","Accept-Language":"ja"}});p(e.data.data),console.log("Movie: ",e.data.data)}catch(e){s.error("Lỗi khi tải thông tin phim: "+e.message)}};n.useEffect(()=>{a&&d()},[a,m]);const h=async e=>{try{const t=await r.put(`/movie/${a}`,e);s.success("Cập nhật phim thành công!"),console.log("Updated Movie: ",t.data),c(`/admin/ql-phim/${t.data.movieId}`)}catch(t){s.error("Lỗi khi cập nhật phim: "+t.message)}};return o.jsx("div",{children:i?o.jsx(M,{onSubmit:h,movie:i}):o.jsx(g,{})})}export{y as default};
