import{az as A,u as G,r as i,j as e,B as n,T as r,P as l,i as a,b as z,d as R,V as $}from"./index-Bu40L8XC.js";import{S as N}from"./StepTracker-DQQfYe1M.js";import{H as q,F as J}from"./Header-BzAmPoue.js";import{C as K}from"./Container-DB-eAabM.js";import{G as s}from"./Grid-CVVLQk86.js";import"./Stepper-CFPlDu-N.js";import"./Search-BqxA9X09.js";const ee=()=>{const c=A();G();const{selectedTime:B,selectedDate:C,tickets:E,seats:P}=c.state||{selectedTime:"Not selected",selectedDate:"Not selected",tickets:[],seats:[]},h=(E||[]).reduce((t,o)=>t+o.price*(o.quantity||0),0),{movieTitle:u="Phim Mặc Định",screen:k="Màn hình 1",showDate:F=C,showTime:V=B,price:D=h}=c.state||{},d=h,[x,H]=i.useState(""),[m,I]=i.useState(""),[p,L]=i.useState(""),[g,M]=i.useState(""),[b,j]=i.useState(!1),[f,v]=i.useState(!1),[y,w]=i.useState(!1),[T,S]=i.useState(!1),W=async()=>{let t=!1;if(x.trim()?j(!1):(j(!0),t=!0),m.trim()?v(!1):(v(!0),t=!0),p.trim()?w(!1):(w(!0),t=!0),g.trim()?S(!1):(S(!0),t=!0),!t)try{const o=await R.get(`vnpay/createpaymenturl?money=${d}&description=${`Payment for movie tickets: ${u}`}`);window.location.href=o.data}catch(o){console.error(o),$.error("Đặt vé thất bại!");return}};return e.jsxs(n,{sx:{minHeight:"100vh",background:`linear-gradient(to bottom,
          rgba(11, 13, 26, 0.95) 0%,
          rgba(11, 13, 26, 0.85) 100%
        )`,position:"relative","&::before":{content:'""',position:"fixed",top:0,left:0,right:0,bottom:0,background:`radial-gradient(circle at 20% 30%, rgba(78, 46, 131, 0.4) 0%, rgba(78, 46, 131, 0) 50%),
                      radial-gradient(circle at 75% 15%, rgba(33, 64, 154, 0.4) 0%, rgba(33, 64, 154, 0) 50%),
                      linear-gradient(135deg, #0B0D1A 0%, #1A1E3C 50%, #3A1155 100%)`,zIndex:-1}},children:[e.jsx(q,{}),e.jsx(K,{maxWidth:"xl",sx:{pt:{xs:"64px",sm:"72px",md:"80px"},pb:{xs:4,sm:6,md:8},px:{xs:2,sm:3,md:4},position:"relative"},children:e.jsxs(n,{sx:{display:"flex",gap:{xs:2,sm:3,md:4},color:"white",position:"relative",minHeight:"100vh"},children:[e.jsx(n,{sx:{display:{xs:"none",md:"block"},position:"sticky",top:"100px",alignSelf:"flex-start",height:"fit-content",width:"250px",flexShrink:0},children:e.jsx(N,{currentStep:3})}),e.jsxs(n,{sx:{flex:1,display:"flex",flexDirection:"column",gap:{xs:2,sm:3,md:4},pb:4},children:[e.jsx(n,{sx:{display:{xs:"block",md:"none"},mb:2},children:e.jsx(N,{currentStep:3})}),e.jsx(r,{variant:"h4",fontWeight:"bold",align:"center",gutterBottom:!0,fontFamily:"JetBrains Mono",sx:{textTransform:"uppercase",mb:4},children:"Thanh Toán Vé"}),e.jsxs(s,{container:!0,spacing:4,children:[e.jsx(s,{item:!0,xs:12,md:4,children:e.jsx(l,{sx:{p:2,backgroundColor:"rgba(28, 28, 28, 0.8)",color:"white"},children:e.jsx(n,{component:"img",src:"https://cinestar.com.vn/_next/image/?url=https%3A%2F%2Fapi-website.cinestar.com.vn%2Fmedia%2Fwysiwyg%2FPosters%2F01-2025%2Fden-am-hon-poster.png&w=2048&q=75",alt:"Movie Poster",sx:{width:"100%",borderRadius:2,objectFit:"cover",maxHeight:500,mb:2}})})}),e.jsxs(s,{item:!0,xs:12,md:8,children:[e.jsx(l,{sx:{p:3,backgroundColor:"rgba(28, 28, 28, 0.8)",color:"white",mb:3},children:e.jsxs(s,{container:!0,spacing:3,children:[e.jsxs(s,{item:!0,xs:12,sm:6,children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Thông Tin Phim"}),e.jsxs(r,{variant:"body1",gutterBottom:!0,children:[e.jsx("strong",{children:"Tên phim:"})," ",u]}),e.jsxs(r,{variant:"body1",gutterBottom:!0,children:[e.jsx("strong",{children:"Màn hình:"})," ",k]}),e.jsxs(r,{variant:"body1",gutterBottom:!0,children:[e.jsx("strong",{children:"Ngày chiếu:"})," ",F]}),e.jsxs(r,{variant:"body1",gutterBottom:!0,children:[e.jsx("strong",{children:"Giờ chiếu:"})," ",V]})]}),e.jsxs(s,{item:!0,xs:12,sm:6,children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Thông Tin Vé"}),e.jsxs(r,{variant:"body1",gutterBottom:!0,children:[e.jsx("strong",{children:"Ghế:"})," ",P.join(", ")||"Chưa chọn ghế"]}),e.jsxs(r,{variant:"body1",gutterBottom:!0,children:[e.jsx("strong",{children:"Giá:"})," ",D.toLocaleString("vi-VN",{style:"currency",currency:"VND"})]}),e.jsxs(r,{variant:"body1",gutterBottom:!0,sx:{color:"#fbc02d",fontWeight:"bold",fontSize:"1.1rem",mt:1},children:[e.jsx("strong",{children:"Tổng cộng:"})," ",d.toLocaleString("vi-VN",{style:"currency",currency:"VND"})]})]})]})}),e.jsxs(l,{sx:{p:3,backgroundColor:"rgba(28, 28, 28, 0.8)",color:"white"},children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Thông Tin Khách Hàng"}),e.jsxs(s,{container:!0,spacing:2,sx:{mb:2},children:[e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(a,{label:"Họ tên",variant:"outlined",fullWidth:!0,value:x,onChange:t=>H(t.target.value),error:b,helperText:b?"Vui lòng nhập họ tên":"",InputLabelProps:{style:{color:"white"}},sx:{input:{color:"white"}}})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(a,{label:"Email",variant:"outlined",fullWidth:!0,value:m,onChange:t=>I(t.target.value),error:f,helperText:f?"Vui lòng nhập email":"",InputLabelProps:{style:{color:"white"}},sx:{input:{color:"white"}}})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(a,{label:"CMND",variant:"outlined",fullWidth:!0,value:p,onChange:t=>L(t.target.value),error:y,helperText:y?"Vui lòng nhập CMND":"",InputLabelProps:{style:{color:"white"}},sx:{input:{color:"white"}}})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(a,{label:"Số điện thoại",variant:"outlined",fullWidth:!0,value:g,onChange:t=>M(t.target.value),error:T,helperText:T?"Vui lòng nhập số điện thoại":"",InputLabelProps:{style:{color:"white"}},sx:{input:{color:"white"}}})})]}),e.jsx(n,{sx:{textAlign:"center",mt:3},children:e.jsx(z,{variant:"contained",color:"primary",onClick:W,sx:{px:4,py:1,fontSize:"1rem",borderRadius:2},children:"Xác nhận đặt vé"})})]})]})]})]})]})}),e.jsx(J,{})]})};export{ee as default};
