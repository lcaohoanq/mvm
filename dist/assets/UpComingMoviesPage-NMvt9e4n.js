import{a as O,u as D,r as a,j as e,L as W,B as r,H as U,C as B,T as i,G as j,d as E,b as c,M as R,i as L,e as N}from"./index-DYNoSv3m.js";import{A as G}from"./Aurora-C5Sy4iXC.js";import{S as H}from"./ScrollToTop-BDfqgSsC.js";import{C as $,P as _}from"./PlayCircleOutlineOutlined-UFWHnC6y.js";import{S as Y}from"./ScrollFloat-BhPtZxJS.js";import{P as q}from"./Pagination-awY0zA86.js";import{f as y}from"./format-csk1fyom.js";import{p as C}from"./parseISO-DYw7kXTp.js";const oe=()=>{const{t:n}=O(),w=D(),[d,x]=a.useState([]),[k,p]=a.useState(!0),[F,m]=a.useState(!1),[g,h]=a.useState(null),[u,S]=a.useState(1),l=8,M=0,T=100;a.useEffect(()=>{(async()=>{try{p(!0);const t=await N.get(`/movie/coming-soon/page/${M}/size/${T}`);console.log("Upcoming movies response:",t.data);const s=Array.isArray(t.data)?t.data:t.data.data||[];x(s)}catch(t){console.error("Error fetching upcoming movies:",t),x([])}finally{p(!1)}})()},[n]);const I=o=>{let t=o.replace("youtu.be","youtube.com/embed");t=t.replace("watch?v=","embed/"),t=t+"?autoplay=1",h(t),m(!0)},f=()=>{m(!1),h(null)},b=Math.ceil(d.length/l),v=u*l,P=v-l,z=d.slice(P,v),A=(o,t)=>{S(t),window.scrollTo({top:0,behavior:"smooth"})};return k?e.jsx(W,{}):e.jsxs(r,{sx:{minHeight:"100vh",background:`linear-gradient(to bottom,
          rgba(11, 13, 26, 0.95) 0%,
          rgba(11, 13, 26, 0.85) 100%
        )`,position:"relative","&::before":{content:'""',position:"fixed",top:0,left:0,right:0,bottom:0,background:`radial-gradient(circle at 20% 30%, rgba(78, 46, 131, 0.4) 0%, rgba(78, 46, 131, 0) 50%),
                      radial-gradient(circle at 75% 15%, rgba(33, 64, 154, 0.4) 0%, rgba(33, 64, 154, 0) 50%),
                      linear-gradient(135deg, #0B0D1A 0%, #1A1E3C 50%, #3A1155 100%)`,zIndex:-1}},children:[e.jsx(r,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:0,opacity:.4,pointerEvents:"none"},children:e.jsx(G,{colorStops:["#3A29FF","#FF94B4","#FF3232"],blend:1,amplitude:2.5,speed:1})}),e.jsx(U,{}),e.jsxs(B,{maxWidth:"xl",sx:{pt:{xs:"64px",sm:"72px",md:"80px"},pb:{xs:4,sm:6,md:8},position:"relative",zIndex:1},children:[e.jsx(r,{sx:{textAlign:"center",mb:{xs:4,sm:5,md:6}},children:e.jsx(Y,{animationDuration:1,ease:"back.inOut(2)",scrollStart:"center bottom+=50%",scrollEnd:"bottom bottom-=40%",stagger:.08,children:e.jsx(i,{variant:"h3",fontWeight:"bold",sx:{color:"white",textTransform:"uppercase",fontSize:{xs:"1.75rem",sm:"2.25rem",md:"2.5rem"}},children:n("upcoming")})})}),e.jsx(j,{container:!0,spacing:3,children:z.map((o,t)=>e.jsx(j,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(r,{className:"movie-card",sx:{display:"flex",flexDirection:"column",height:"100%",backgroundColor:"rgba(28, 28, 28, 0.6)",borderRadius:"12px",overflow:"hidden",transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{transform:"translateY(-8px)",boxShadow:"0 12px 20px rgba(0,0,0,0.3)"}},children:[e.jsxs(r,{sx:{position:"relative"},children:[e.jsx(r,{sx:{position:"relative",overflow:"hidden",height:{xs:"200px",sm:"250px",md:"300px"},width:"100%"},children:e.jsx("img",{src:o.image,alt:o.movieName,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"contain",transition:"transform 0.5s ease"},onMouseOver:s=>{s.currentTarget.style.transform="scale(1.05)"},onMouseOut:s=>{s.currentTarget.style.transform="scale(1)"}})}),e.jsx(E,{icon:e.jsx($,{}),label:e.jsxs(r,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(i,{variant:"caption",sx:{fontWeight:"bold"},children:y(C(o.postDate),"MMM")}),e.jsx(i,{variant:"caption",children:y(C(o.postDate),"dd, yyyy")})]}),sx:{position:"absolute",top:0,left:0,backgroundColor:"orange",color:"white",fontWeight:"bold",borderRadius:"3px 0 3px 0","& .MuiSvgIcon-root":{color:"white",fontSize:"1rem"}}})]}),e.jsxs(r,{sx:{p:2.5,display:"flex",flexDirection:"column",flexGrow:1},children:[e.jsx(i,{variant:"h6",sx:{color:"white",height:"3em",textAlign:"center",mb:2,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",fontSize:{xs:"1rem",sm:"1.1rem",md:"1.2rem"}},children:o.movieName}),e.jsxs(r,{sx:{display:"flex",gap:1,mt:"auto",justifyContent:"space-between"},children:[e.jsxs(c,{variant:"text",sx:{color:"#FFFFFF",display:"flex",alignItems:"center",gap:.5,"&:hover":{color:"#FFD700"}},onClick:()=>I(o.trailer),children:[e.jsx(_,{}),e.jsx(i,{variant:"button",sx:{textDecoration:"underline",fontSize:{xs:"0.7rem",sm:"0.8rem"}},children:n("view_trailer")})]}),e.jsx(c,{variant:"contained",sx:{backgroundColor:"yellow",color:"black",fontWeight:"bold",transition:"transform 0.3s ease, background-color 0.3s ease","&:hover":{backgroundColor:"#FFD700",transform:"scale(1.05)"}},onClick:()=>w(`/ticket/${o.movieId}`),children:n("book_ticket")})]})]})]})},t))}),b>1&&e.jsx(r,{sx:{display:"flex",justifyContent:"center",mt:4},children:e.jsx(q,{count:b,color:"primary",page:u,onChange:A,sx:{"& .MuiPaginationItem-root":{color:"white",fontSize:"1.1rem",mx:.5},"& .Mui-selected":{backgroundColor:"rgba(255, 255, 255, 0.2) !important"}}})})]}),e.jsx(R,{open:F,onClose:f,closeAfterTransition:!0,sx:{display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(0, 0, 0, 0.8)"},children:e.jsxs(r,{sx:{position:"relative",width:"80%",maxWidth:"1000px",aspectRatio:"16/9",bgcolor:"transparent"},children:[e.jsx(c,{sx:{position:"absolute",top:10,right:10,color:"white",backgroundColor:"rgba(0,0,0,0.5)",borderRadius:"50%",minWidth:"40px",height:"40px",zIndex:10,"&:hover":{backgroundColor:"rgba(255,0,0,0.7)"}},onClick:f,children:"âœ–"}),g&&e.jsx("iframe",{width:"100%",height:"100%",src:g,title:"Movie Trailer",frameBorder:"0",allow:"autoplay; encrypted-media; picture-in-picture",allowFullScreen:!0,style:{position:"absolute",top:0,left:0,borderRadius:"10px"}})]})}),e.jsx(H,{}),e.jsx(L,{})]})};export{oe as default};
