import{z as b,D,r as c,E as w,j as o,s as k,G as S,J as E,v as N,u as B,a as I,ap as P,B as p,T as u,b as C,w as Y,x as _,an as j}from"./index-DusnYyTQ.js";import{H as x,F as h}from"./Header-BPywG_R1.js";import{C as R}from"./Container-CXKpPVaj.js";import"./Grid-CPCepTDX.js";import"./Search-z6jiUDb3.js";function T(s){return b("MuiCardMedia",s)}D("MuiCardMedia",["root","media","img"]);const A=s=>{const{classes:a,isMediaComponent:t,isImageComponent:e}=s;return E({root:["root",t&&"media",e&&"img"]},T,a)},H=k("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(s,a)=>{const{ownerState:t}=s,{isMediaComponent:e,isImageComponent:i}=t;return[a.root,e&&a.media,i&&a.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),F=["video","audio","picture","iframe","img"],O=["picture","img"],U=c.forwardRef(function(a,t){const e=w({props:a,name:"MuiCardMedia"}),{children:i,className:g,component:n="div",image:r,src:l,style:d,...M}=e,m=F.includes(n),y=!m&&r?{backgroundImage:`url("${r}")`,...d}:d,f={...e,component:n,isMediaComponent:m,isImageComponent:O.includes(n)},v=A(f);return o.jsx(H,{className:S(v.root,g),as:n,role:!m&&r?"img":void 0,ref:t,style:y,ownerState:f,src:m?r||l:void 0,...M,children:i})}),J=()=>{const{id:s}=N(),a=B(),{t}=I(),[e,i]=c.useState(null),[g,n]=c.useState(!0),[r,l]=c.useState("");return c.useEffect(()=>{s?P.get(`https://localhost:7119/api/Promotions/GetById/${s}`).then(d=>{i(d.data),n(!1)}).catch(d=>{console.error("Error fetching promotion:",d),l(t("promotion.detail.not_found")),n(!1)}):(l(t("promotion.detail.not_found")),n(!1))},[s,t]),g?o.jsxs(p,{sx:{backgroundColor:"#0B0D1A",color:"white",minHeight:"100vh",p:4},children:[o.jsx(x,{}),o.jsx(u,{variant:"h6",align:"center",children:t("promotion.detail.loading")}),o.jsx(h,{})]}):r||!e?o.jsxs(p,{sx:{backgroundColor:"#0B0D1A",color:"white",minHeight:"100vh",p:4},children:[o.jsx(x,{}),o.jsx(u,{variant:"h6",align:"center",children:r||t("promotion.detail.not_found")}),o.jsx(C,{onClick:()=>a("/promotions"),variant:"contained",sx:{mt:2},children:t("promotion.detail.back")}),o.jsx(h,{})]}):o.jsxs(p,{sx:{backgroundColor:"#0B0D1A",color:"white"},children:[o.jsx(x,{}),o.jsx(R,{maxWidth:"md",sx:{mt:10,mb:7,py:6},children:o.jsxs(Y,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"}},children:[o.jsx(U,{component:"img",image:e.image||"https://thumbs.dreamstime.com/b/page-not-found-error-hand-drawn-ghost-doodle-vector-illustration-internet-connection-trouble-concept-105206287.jpg",alt:e.promotionName,sx:{width:{xs:"100%",md:"50%"},height:"auto",objectFit:"inherit"}}),o.jsxs(_,{sx:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",padding:3},children:[o.jsx(u,{variant:"h5",color:"primary",gutterBottom:!0,children:e.promotionName}),o.jsxs(u,{variant:"subtitle2",gutterBottom:!0,children:[t("promotion.detail.period"),":"," ",j(e.fromDate).format("DD/MM/YYYY")," -"," ",j(e.toDate).format("DD/MM/YYYY")]}),o.jsx(p,{sx:{typography:"body1",mt:1},className:"quill-content",dangerouslySetInnerHTML:{__html:e.content}}),o.jsx(C,{variant:"contained",color:"secondary",sx:{mt:2,alignSelf:"start"},children:t("promotion.detail.book_now")})]})]})}),o.jsx(h,{})]})};export{J as default};
