import{a as D,u as A,r as s,j as e,L as W,B as r,H as B,C as E,T as i,G as v,d as U,b as c,M as R,i as L,e as N}from"./index-B0N4umr3.js";import{A as G}from"./Aurora-C5cQ1KzK.js";import{S as H}from"./ScrollToTop-BfL4SoFL.js";import{C as _,P as $}from"./PlayCircleOutlineOutlined-DQ07_tmS.js";import{S as Y}from"./ScrollFloat-D6Otpoom.js";import{P as q}from"./Pagination-UWLIceQx.js";import{f as j}from"./format-csk1fyom.js";import{p as y}from"./parseISO-DYw7kXTp.js";const te=()=>{const{t:a}=D(),w=A(),[d,C]=s.useState([]),[k,x]=s.useState(!0),[F,p]=s.useState(!1),[m,g]=s.useState(null),[h,S]=s.useState(1),n=8,M=0,T=100;s.useEffect(()=>{(async()=>{try{x(!0);const o=await N.get(`/movie/coming-soon/page/${M}/size/${T}`);console.log("Now showing movies:",o.data),C(o.data)}catch(o){console.error("Error fetching now showing movies:",o)}finally{x(!1)}})()},[]);const I=t=>{let o=t.replace("youtu.be","youtube.com/embed");o=o.replace("watch?v=","embed/"),o=o+"?autoplay=1",g(o),p(!0)},u=()=>{p(!1),g(null)},f=Math.ceil(d.length/n),b=h*n,P=b-n,z=d.slice(P,b),O=(t,o)=>{S(o),window.scrollTo({top:0,behavior:"smooth"})};return k?e.jsx(W,{}):e.jsxs(r,{sx:{minHeight:"100vh",background:`linear-gradient(to bottom,
          rgba(11, 13, 26, 0.95) 0%,
          rgba(11, 13, 26, 0.85) 100%
        )`,position:"relative","&::before":{content:'""',position:"fixed",top:0,left:0,right:0,bottom:0,background:`radial-gradient(circle at 20% 30%, rgba(78, 46, 131, 0.4) 0%, rgba(78, 46, 131, 0) 50%),
                      radial-gradient(circle at 75% 15%, rgba(33, 64, 154, 0.4) 0%, rgba(33, 64, 154, 0) 50%),
                      linear-gradient(135deg, #0B0D1A 0%, #1A1E3C 50%, #3A1155 100%)`,zIndex:-1}},children:[e.jsx(r,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:0,opacity:.4,pointerEvents:"none"},children:e.jsx(G,{colorStops:["#3A29FF","#FF94B4","#FF3232"],blend:1,amplitude:2.5,speed:1})}),e.jsx(B,{}),e.jsxs(E,{maxWidth:"xl",sx:{pt:{xs:"64px",sm:"72px",md:"80px"},pb:{xs:4,sm:6,md:8},position:"relative",zIndex:1},children:[e.jsx(r,{sx:{textAlign:"center",mb:{xs:4,sm:5,md:6}},children:e.jsx(Y,{animationDuration:1,ease:"back.inOut(2)",scrollStart:"center bottom+=50%",scrollEnd:"bottom bottom-=40%",stagger:.08,children:e.jsx(i,{variant:"h3",fontWeight:"bold",sx:{color:"white",textTransform:"uppercase",fontSize:{xs:"1.75rem",sm:"2.25rem",md:"2.5rem"}},children:a("now_showing")})})}),e.jsx(v,{container:!0,spacing:3,children:z.map((t,o)=>e.jsx(v,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(r,{className:"movie-card",sx:{display:"flex",flexDirection:"column",height:"100%",backgroundColor:"rgba(28, 28, 28, 0.6)",borderRadius:"12px",overflow:"hidden",transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{transform:"translateY(-8px)",boxShadow:"0 12px 20px rgba(0,0,0,0.3)"}},children:[e.jsxs(r,{sx:{position:"relative"},children:[e.jsx(r,{sx:{position:"relative",overflow:"hidden",height:{xs:"200px",sm:"250px",md:"300px"},width:"100%"},children:e.jsx("img",{src:t.image,alt:t.movieName,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"contain",transition:"transform 0.5s ease"},onMouseOver:l=>{l.currentTarget.style.transform="scale(1.05)"},onMouseOut:l=>{l.currentTarget.style.transform="scale(1)"}})}),e.jsx(U,{icon:e.jsx(_,{}),label:e.jsxs(r,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(i,{variant:"caption",sx:{fontWeight:"bold"},children:j(y(t.postDate),"MMM")}),e.jsx(i,{variant:"caption",children:j(y(t.postDate),"dd, yyyy")})]}),sx:{position:"absolute",top:0,left:0,backgroundColor:"orange",color:"white",fontWeight:"bold",borderRadius:"3px 0 3px 0","& .MuiSvgIcon-root":{color:"white",fontSize:"1rem"}}})]}),e.jsxs(r,{sx:{p:2.5,display:"flex",flexDirection:"column",flexGrow:1},children:[e.jsx(i,{variant:"h6",sx:{color:"white",height:"3em",textAlign:"center",mb:2,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",fontSize:{xs:"1rem",sm:"1.1rem",md:"1.2rem"}},children:t.movieName}),e.jsxs(r,{sx:{display:"flex",gap:1,mt:"auto",justifyContent:"space-between"},children:[e.jsxs(c,{variant:"text",sx:{color:"#FFFFFF",display:"flex",alignItems:"center",gap:.5,"&:hover":{color:"#FFD700"}},onClick:()=>I(t.trailer),children:[e.jsx($,{}),e.jsx(i,{variant:"button",sx:{textDecoration:"underline",fontSize:{xs:"0.7rem",sm:"0.8rem"}},children:a("view_trailer")})]}),e.jsx(c,{variant:"contained",sx:{backgroundColor:"yellow",color:"black",fontWeight:"bold",transition:"transform 0.3s ease, background-color 0.3s ease","&:hover":{backgroundColor:"#FFD700",transform:"scale(1.05)"}},onClick:()=>w(`/ticket/${t.movieId}`),children:a("book_ticket")})]})]})]})},o))}),f>1&&e.jsx(r,{sx:{display:"flex",justifyContent:"center",mt:4},children:e.jsx(q,{count:f,color:"primary",page:h,onChange:O,sx:{"& .MuiPaginationItem-root":{color:"white",fontSize:"1.1rem",mx:.5},"& .Mui-selected":{backgroundColor:"rgba(255, 255, 255, 0.2) !important"}}})})]}),e.jsx(R,{open:F,onClose:u,closeAfterTransition:!0,sx:{display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(0, 0, 0, 0.8)"},children:e.jsxs(r,{sx:{position:"relative",width:"80%",maxWidth:"1000px",aspectRatio:"16/9",bgcolor:"transparent"},children:[e.jsx(c,{sx:{position:"absolute",top:10,right:10,color:"white",backgroundColor:"rgba(0,0,0,0.5)",borderRadius:"50%",minWidth:"40px",height:"40px",zIndex:10,"&:hover":{backgroundColor:"rgba(255,0,0,0.7)"}},onClick:u,children:"âœ–"}),m&&e.jsx("iframe",{width:"100%",height:"100%",src:m,title:"Movie Trailer",frameBorder:"0",allow:"autoplay; encrypted-media; picture-in-picture",allowFullScreen:!0,style:{position:"absolute",top:0,left:0,borderRadius:"10px"}})]})}),e.jsx(H,{}),e.jsx(L,{})]})};export{te as default};
