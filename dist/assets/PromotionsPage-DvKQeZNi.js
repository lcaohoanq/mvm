import{u,a as j,r as n,j as r,L as k,B as i,T as o,D as v,ar as g,b as l,d as F,V as y}from"./index-C67ppINo.js";import{H as C,F as w}from"./Header-D2dSLYxw.js";import{S as D}from"./ScrollToTop-DJ237QK7.js";import{C as T}from"./Container-CW1DaU2d.js";import{G as s}from"./Grid-BKBU4b-l.js";import{C as S}from"./CardMedia-ScIbX4Uz.js";import"./Search-DVpGlMLu.js";const I=()=>{const b=u(),{t:p}=j(),[c,m]=n.useState([]),[h,x]=n.useState(!0),[a,d]=n.useState(1),f=5;return n.useEffect(()=>{(async()=>{try{x(!0);const t=await F.get(`Promotions/page/${a}/pageSize/${f}`);t.data.length===0&&a>0?(y.error("Không còn trang tiếp theo"),d(a-1)):m(t.data)}catch(t){console.error("Lỗi Lấy Data promotions:",t)}finally{x(!1)}})()},[a]),h?r.jsx(k,{}):r.jsxs(i,{sx:{minHeight:"100vh",background:`linear-gradient(to bottom,
          rgba(11, 13, 26, 0.95) 0%,
          rgba(11, 13, 26, 0.85) 100%
        )`,position:"relative","&::before":{content:'""',position:"fixed",top:0,left:0,right:0,bottom:0,background:`radial-gradient(circle at 20% 30%, rgba(78, 46, 131, 0.4) 0%, rgba(78, 46, 131, 0) 50%),
                      radial-gradient(circle at 75% 15%, rgba(33, 64, 154, 0.4) 0%, rgba(33, 64, 154, 0) 50%),
                      linear-gradient(135deg, #0B0D1A 0%, #1A1E3C 50%, #3A1155 100%)`,zIndex:-1}},children:[r.jsx(C,{}),r.jsxs(T,{maxWidth:"xl",sx:{pt:{xs:"64px",sm:"72px",md:"80px"},pb:{xs:4,sm:6,md:8},px:{xs:2,sm:3,md:4},position:"relative",zIndex:1},children:[r.jsx(o,{variant:"h3",sx:{textAlign:"center",mt:6,mb:6,fontWeight:"bold",color:"white",position:"relative","&::after":{content:'""',position:"absolute",bottom:-16,left:"50%",transform:"translateX(-50%)",width:"60px",height:"3px",background:"linear-gradient(90deg, #834bff 0%, #FF3232 100%)",borderRadius:"2px"}},children:p("promotions")}),c.length===0?r.jsx(i,{sx:{textAlign:"center",m:4,p:4,border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:2,backdropFilter:"blur(10px)",backgroundColor:"rgba(255, 255, 255, 0.05)"},children:r.jsx(o,{variant:"h6",sx:{color:"#834bff"},children:"Hiện không có khuyến mãi nào."})}):r.jsx(s,{container:!0,spacing:4,children:c.map((e,t)=>r.jsxs(s,{container:!0,item:!0,spacing:3,alignItems:"center",flexDirection:t%2===0?"row":"row-reverse",sx:{mb:4,p:2,borderRadius:2,background:"rgba(255, 255, 255, 0.03)",backdropFilter:"blur(10px)",transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 8px 24px rgba(0,0,0,0.2)"}},children:[r.jsx(s,{item:!0,xs:12,md:6,sx:{display:"flex",justifyContent:"center"},children:r.jsx(S,{component:"img",image:e.image||"/images/default-promotion.jpg",alt:e.promotionName,sx:{height:300,width:"100%",borderRadius:2,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transition:"transform 0.3s ease",objectFit:"contain","&:hover":{transform:"scale(1.02)"}}})}),r.jsx(s,{item:!0,xs:12,md:6,children:r.jsx(i,{sx:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",p:3},children:r.jsxs(v,{children:[r.jsx(o,{variant:"h5",sx:{fontWeight:"bold",mb:2,background:"linear-gradient(90deg, #834bff 0%, #FF3232 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:e.promotionName}),r.jsxs(o,{variant:"body1",sx:{mb:2,color:"rgba(255, 255, 255, 0.7)"},children:[g(e.fromDate).format("DD/MM/YYYY")," -"," ",g(e.toDate).format("DD/MM/YYYY")]}),r.jsxs(o,{variant:"h6",sx:{mb:3,color:"#FFD700",fontWeight:"bold"},children:[e.discount,"% Giảm Giá"]}),r.jsx(l,{variant:"contained",onClick:()=>b(`/promotions/${e.promotionId}`),sx:{background:"linear-gradient(90deg, #834bff 0%, #FF3232 100%)",color:"white",px:4,py:1,borderRadius:"25px",transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{background:"linear-gradient(90deg, #834bff 0%, #FF3232 100%)",transform:"translateY(-2px)",boxShadow:"0 5px 15px rgba(131, 75, 255, 0.4)"}},children:"Đặt Vé Ngay"})]})})})]},e.promotionId))}),r.jsxs(i,{sx:{display:"flex",justifyContent:"center",mt:6,gap:2},children:[r.jsx(l,{variant:"contained",disabled:a===0,onClick:()=>d(e=>Math.max(0,e-1)),sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",color:"white","&:hover":{background:"rgba(255, 255, 255, 0.2)"},"&.Mui-disabled":{background:"rgba(255, 255, 255, 0.05)",color:"rgba(255, 255, 255, 0.3)"}},children:"Trang Trước"}),r.jsx(l,{variant:"contained",onClick:()=>d(e=>e+1),sx:{background:"linear-gradient(90deg, #834bff 0%, #FF3232 100%)",color:"white","&:hover":{background:"linear-gradient(90deg, #9b69ff 0%, #ff4747 100%)"}},children:"Trang Tiếp Theo"})]})]}),r.jsx(D,{}),r.jsx(w,{})]})};export{I as default};
