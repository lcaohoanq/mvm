import{v as V,r as i,j as e,L as D,A as F,n as R,B as n,o as W,p as N,q as k,t as H,H as L,T as x,h as l,e as U,b as u,k as m}from"./index-CYV1e2PH.js";import{u as A}from"./useQuery-B7N37sDr.js";import{j as M}from"./mock.apis-DIH13nUE.js";import{C as w}from"./Container-CrIAJPp1.js";import{F as B}from"./FileUploadOutlined-B523fSaj.js";import{R as E,a as f}from"./RadioGroup-tJvKZaha.js";const Q=({disableCustomTheme:p=!1})=>{const{id:j}=V(),{data:a=null,isLoading:g,error:b}=A("MemberData",()=>M(j)),[t,o]=i.useState(null),[v,c]=i.useState(null),d=i.useRef(null);if(i.useEffect(()=>{a&&a.HinhAnh&&o(a.HinhAnh)},[a]),!a)return null;if(g)return e.jsx(D,{});if(b)return e.jsx("div",{children:"Failed to fetch data"});if(!a)return e.jsx("div",{children:"No employee data found"});const y=r=>{var h;const s=(h=r.target.files)==null?void 0:h[0];if(s){console.log(s);const T=URL.createObjectURL(s);o(T),c(s)}r.target.value=""},C=()=>{o(null),c(null),d.current&&(d.current.value="")},S=()=>{console.log("Image to save:",v||t)},I=()=>{console.log("Canceling changes")};return e.jsxs(F,{disableCustomTheme:p,children:[e.jsx(R,{enableColorScheme:!0}),e.jsxs(n,{sx:{display:"flex",height:"100vh"},children:[e.jsx(W,{}),e.jsxs(n,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[e.jsx(N,{}),e.jsx(n,{component:"main",sx:r=>({flexGrow:1,backgroundColor:k(r.palette.background.default,1),overflowY:"auto",px:3,py:2}),children:e.jsxs(H,{spacing:2,alignItems:"center",children:[e.jsx(L,{}),e.jsx(w,{maxWidth:"md",children:e.jsxs(n,{sx:{py:4},children:[e.jsx(x,{variant:"h4",component:"h1",sx:{mb:4},children:"Chỉnh sửa thông tin nhân viên"}),e.jsxs(n,{sx:{mb:2},children:[e.jsx(l,{fullWidth:!0,margin:"normal",label:"Hình ảnh",variant:"standard",value:t||"",InputProps:{readOnly:!0,endAdornment:e.jsxs(U,{component:"label",children:[e.jsx(B,{}),e.jsx("input",{ref:d,style:{display:"none"},type:"file",accept:"image/*",hidden:!0,onChange:y,name:"[licenseFile]"})]})}}),t&&e.jsxs(n,{sx:{mt:2,display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(n,{component:"img",src:t,alt:"Preview",sx:{maxWidth:"100%",maxHeight:"200px",objectFit:"contain",border:"1px solid #ddd",borderRadius:"4px",mt:1}}),e.jsx(u,{size:"small",color:"error",onClick:C,sx:{mt:1},children:"Xóa hình"})]})]}),e.jsx(l,{label:"Tài khoản",variant:"standard",fullWidth:!0,margin:"normal",defaultValue:a.TaiKhoan}),e.jsx(l,{label:"Họ tên",variant:"standard",fullWidth:!0,margin:"normal",defaultValue:a.TenNhanVien}),e.jsx(l,{label:"Ngày sinh",variant:"standard",fullWidth:!0,margin:"normal",type:"date",defaultValue:a.NgaySinh,InputLabelProps:{style:{top:"-1.5rem"}}}),e.jsxs(n,{sx:{display:"flex",gap:"2rem",alignItems:"center",justifyContent:"flex-start",my:2},children:[e.jsx(x,{children:"Giới tính"}),e.jsxs(E,{defaultValue:a.GioiTinh||"Male",sx:{display:"flex",gap:10,flexDirection:"row"},children:[e.jsx(m,{value:"Male",control:e.jsx(f,{}),label:"Nam"}),e.jsx(m,{value:"Female",control:e.jsx(f,{}),label:"Nữ"})]})]}),e.jsx(l,{label:"Email",variant:"standard",fullWidth:!0,margin:"normal",defaultValue:a.Email}),e.jsx(l,{label:"Số CMND",variant:"standard",fullWidth:!0,margin:"normal",defaultValue:a.SoCMND}),e.jsx(l,{label:"Số điện thoại",variant:"standard",fullWidth:!0,margin:"normal",defaultValue:a.SoDienThoai}),e.jsx(l,{label:"Địa chỉ",variant:"standard",fullWidth:!0,margin:"normal",defaultValue:a.DiaChi}),e.jsxs(n,{sx:{mt:4,display:"flex",justifyContent:"flex-end",gap:2},children:[e.jsx(u,{onClick:I,color:"error",variant:"contained",children:"Hủy"}),e.jsx(u,{onClick:S,color:"primary",variant:"contained",children:"Lưu thay đổi"})]})]})})]})})]})]})]})};export{Q as default};
