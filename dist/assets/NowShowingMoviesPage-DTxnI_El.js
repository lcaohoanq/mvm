import{a as O,u as z,r,j as e,L as N,B as t,C as W,T as l,G as k,d as B,b as C,M as L,e as I,H as R,i as U}from"./index-hKNTF3Dt.js";import{A as $}from"./Aurora-C3_JuflD.js";import{S as G}from"./ScrollToTop-BeLNFbq8.js";import{C as H,P as _}from"./PlayCircleOutlineOutlined-BSwDujGV.js";import{S as Y}from"./ScrollFloat-CrX4ruw5.js";import{P as q}from"./Pagination-JEqdF6Yf.js";import{f as T}from"./format-csk1fyom.js";import{p as P}from"./parseISO-DYw7kXTp.js";const J=()=>{const{t:c}=O(),d=z(),[x,m]=r.useState([]),[g,u]=r.useState(!0),[M,f]=r.useState(!1),[b,h]=r.useState(null),[w,a]=r.useState(1),n=8,v=0,p=100;r.useEffect(()=>{(async()=>{try{u(!0);const o=await I.get(`/movie/showing/page/${v}/size/${p}`);console.log("Now showing movies:",o.data),m(o.data)}catch(o){console.error("Error fetching now showing movies:",o)}finally{u(!1)}})()},[]);const j=s=>{let o=s.replace("youtu.be","youtube.com/embed");o=o.replace("watch?v=","embed/"),o=o+"?autoplay=1",h(o),f(!0)},y=()=>{f(!1),h(null)},i=Math.ceil(x.length/n),F=w*n,D=F-n,A=x.slice(D,F),E=(s,o)=>{a(o),window.scrollTo({top:0,behavior:"smooth"})};return g?e.jsx(N,{}):e.jsxs(t,{children:[e.jsxs(W,{maxWidth:"xl",sx:{pt:{xs:"64px",sm:"72px",md:"80px"},pb:{xs:4,sm:6,md:8},position:"relative",zIndex:1},children:[e.jsx(t,{sx:{textAlign:"center",mb:{xs:4,sm:5,md:6}},children:e.jsx(Y,{animationDuration:1,ease:"back.inOut(2)",scrollStart:"center bottom+=50%",scrollEnd:"bottom bottom-=40%",stagger:.08,children:e.jsx(l,{variant:"h3",fontWeight:"bold",sx:{color:"white",textTransform:"uppercase",fontSize:{xs:"1.75rem",sm:"2.25rem",md:"2.5rem"}},children:c("now_showing")})})}),e.jsx(k,{container:!0,spacing:3,children:A.map((s,o)=>e.jsx(k,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(t,{className:"movie-card",sx:{display:"flex",flexDirection:"column",height:"100%",backgroundColor:"rgba(28, 28, 28, 0.6)",borderRadius:"12px",overflow:"hidden",transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{transform:"translateY(-8px)",boxShadow:"0 12px 20px rgba(0,0,0,0.3)"}},children:[e.jsxs(t,{sx:{position:"relative"},children:[e.jsx(t,{sx:{position:"relative",overflow:"hidden",height:{xs:"200px",sm:"250px",md:"300px"},width:"100%"},children:e.jsx("img",{src:s.image,alt:s.movieName,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"contain",transition:"transform 0.5s ease"},onMouseOver:S=>{S.currentTarget.style.transform="scale(1.05)"},onMouseOut:S=>{S.currentTarget.style.transform="scale(1)"}})}),e.jsx(B,{icon:e.jsx(H,{}),label:e.jsxs(t,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(l,{variant:"caption",sx:{fontWeight:"bold"},children:T(P(s.postDate),"MMM")}),e.jsx(l,{variant:"caption",children:T(P(s.postDate),"dd, yyyy")})]}),sx:{position:"absolute",top:0,left:0,backgroundColor:"orange",color:"white",fontWeight:"bold",borderRadius:"3px 0 3px 0","& .MuiSvgIcon-root":{color:"white",fontSize:"1rem"}}})]}),e.jsxs(t,{sx:{p:2.5,display:"flex",flexDirection:"column",flexGrow:1},children:[e.jsx(l,{variant:"h6",sx:{color:"white",height:"3em",textAlign:"center",mb:2,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",fontSize:{xs:"1rem",sm:"1.1rem",md:"1.2rem"}},children:s.movieName}),e.jsxs(t,{sx:{display:"flex",gap:1,mt:"auto",justifyContent:"space-between"},children:[e.jsxs(C,{variant:"text",sx:{color:"#FFFFFF",display:"flex",alignItems:"center",gap:.5,"&:hover":{color:"#FFD700"}},onClick:()=>j(s.trailer),children:[e.jsx(_,{}),e.jsx(l,{variant:"button",sx:{textDecoration:"underline",fontSize:{xs:"0.7rem",sm:"0.8rem"}},children:c("view_trailer")})]}),e.jsx(C,{variant:"contained",sx:{backgroundColor:"yellow",color:"black",fontWeight:"bold",transition:"transform 0.3s ease, background-color 0.3s ease","&:hover":{backgroundColor:"#FFD700",transform:"scale(1.05)"}},onClick:()=>d(`/ticket/${s.movieId}`),children:c("book_ticket")})]})]})]})},o))}),i>1&&e.jsx(t,{sx:{display:"flex",justifyContent:"center",mt:4},children:e.jsx(q,{count:i,color:"primary",page:w,onChange:E,sx:{"& .MuiPaginationItem-root":{color:"white",fontSize:"1.1rem",mx:.5},"& .Mui-selected":{backgroundColor:"rgba(255, 255, 255, 0.2) !important"}}})})]}),e.jsx(L,{open:M,onClose:y,closeAfterTransition:!0,sx:{display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(0, 0, 0, 0.8)"},children:e.jsxs(t,{sx:{position:"relative",width:"80%",maxWidth:"1000px",aspectRatio:"16/9",bgcolor:"transparent"},children:[e.jsx(C,{sx:{position:"absolute",top:10,right:10,color:"white",backgroundColor:"rgba(0,0,0,0.5)",borderRadius:"50%",minWidth:"40px",height:"40px",zIndex:10,"&:hover":{backgroundColor:"rgba(255,0,0,0.7)"}},onClick:y,children:"âœ–"}),b&&e.jsx("iframe",{width:"100%",height:"100%",src:b,title:"Movie Trailer",frameBorder:"0",allow:"autoplay; encrypted-media; picture-in-picture",allowFullScreen:!0,style:{position:"absolute",top:0,left:0,borderRadius:"10px"}})]})}),e.jsx(G,{})]})},re=()=>{const{t:c}=O();z();const[d,x]=r.useState([]),[m,g]=r.useState(!0),[u,M]=r.useState(!1),[f,b]=r.useState(null),[h,w]=r.useState(1),a=8,n=0,v=100;r.useEffect(()=>{(async()=>{try{g(!0);const i=await I.get(`/movie/showing/page/${n}/size/${v}`);console.log("Now showing movies:",i.data),x(i.data)}catch(i){console.error("Error fetching now showing movies:",i)}finally{g(!1)}})()},[]),Math.ceil(d.length/a);const p=h*a,j=p-a;return d.slice(j,p),m?e.jsx(N,{}):e.jsxs(t,{sx:{minHeight:"100vh",background:`linear-gradient(to bottom,
          rgba(11, 13, 26, 0.95) 0%,
          rgba(11, 13, 26, 0.85) 100%
        )`,position:"relative","&::before":{content:'""',position:"fixed",top:0,left:0,right:0,bottom:0,background:`radial-gradient(circle at 20% 30%, rgba(78, 46, 131, 0.4) 0%, rgba(78, 46, 131, 0) 50%),
                      radial-gradient(circle at 75% 15%, rgba(33, 64, 154, 0.4) 0%, rgba(33, 64, 154, 0) 50%),
                      linear-gradient(135deg, #0B0D1A 0%, #1A1E3C 50%, #3A1155 100%)`,zIndex:-1}},children:[e.jsx(t,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:0,opacity:.4,pointerEvents:"none"},children:e.jsx($,{colorStops:["#3A29FF","#FF94B4","#FF3232"],blend:1,amplitude:2.5,speed:1})}),e.jsx(R,{}),e.jsx(J,{}),e.jsx(U,{})]})};export{re as default};
