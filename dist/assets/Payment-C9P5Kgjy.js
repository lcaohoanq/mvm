import{ay as H,u as A,r as n,j as e,B as u,T as r,P as h,i as o,b as q,V as z}from"./index-C48l0Kxn.js";import{S as R}from"./StepTracker-RzYsdeRS.js";import{F as J}from"./LanguageSelector-DvWeYh1g.js";import{C as K}from"./Container-CQurKiEl.js";import{G as s}from"./Grid-Dfs7uwso.js";import"./Stepper-BXV8CGxJ.js";const Z=()=>{const m=H(),E=A(),{selectedTime:P,selectedDate:V,tickets:k,seats:x}=m.state||{selectedTime:"Not selected",selectedDate:"Not selected",tickets:[],seats:[]},d=(k||[]).reduce((t,S)=>t+S.price*(S.quantity||0),0),{movieTitle:g="Phim Mặc Định",screen:p="Màn hình 1",showDate:j=V,showTime:v=P,price:D=d}=m.state||{},b=d,[i,I]=n.useState(""),[a,L]=n.useState(""),[l,M]=n.useState(""),[c,W]=n.useState(""),[f,y]=n.useState(!1),[T,w]=n.useState(!1),[N,B]=n.useState(!1),[C,F]=n.useState(!1),G=()=>{let t=!1;i.trim()?y(!1):(y(!0),t=!0),a.trim()?w(!1):(w(!0),t=!0),l.trim()?B(!1):(B(!0),t=!0),c.trim()?F(!1):(F(!0),t=!0),!t&&(z.success("Đặt vé thành công!"),E("/ticket/confirmation",{state:{movieTitle:g,screen:p,showDate:j,showTime:v,seats:x,total:b,fullName:i,email:a,idNumber:l,phone:c}}))};return e.jsxs(e.Fragment,{children:[e.jsx(u,{sx:{position:"sticky",top:0,zIndex:999},children:e.jsx(R,{currentStep:3})}),e.jsxs(K,{maxWidth:"lg",disableGutters:!0,sx:{py:15,px:{xs:0,sm:3},backgroundColor:"#0B0D1A",color:"white",minHeight:"50vh"},children:[e.jsx(r,{variant:"h4",fontWeight:"bold",align:"center",gutterBottom:!0,fontFamily:"JetBrains Mono",sx:{textTransform:"uppercase"},children:"Thanh Toán Vé"}),e.jsxs(s,{container:!0,spacing:4,sx:{px:{xs:2,sm:5}},children:[e.jsx(s,{item:!0,xs:12,md:4,children:e.jsx(h,{sx:{p:2,backgroundColor:"#1c1c1c",color:"white"},children:e.jsx(u,{component:"img",src:"https://cinestar.com.vn/_next/image/?url=https%3A%2F%2Fapi-website.cinestar.com.vn%2Fmedia%2Fwysiwyg%2FPosters%2F01-2025%2Fden-am-hon-poster.png&w=2048&q=75",alt:"Movie Poster",sx:{width:"100%",borderRadius:2,objectFit:"cover",maxHeight:500,mb:2}})})}),e.jsxs(s,{item:!0,xs:12,md:8,children:[e.jsx(h,{sx:{p:3,backgroundColor:"#1c1c1c",color:"white",mb:3},children:e.jsxs(s,{container:!0,spacing:3,children:[e.jsxs(s,{item:!0,xs:12,sm:6,children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Thông Tin Phim"}),e.jsxs(r,{variant:"body1",gutterBottom:!0,children:[e.jsx("strong",{children:"Tên phim:"})," ",g]}),e.jsxs(r,{variant:"body1",gutterBottom:!0,children:[e.jsx("strong",{children:"Màn hình:"})," ",p]}),e.jsxs(r,{variant:"body1",gutterBottom:!0,children:[e.jsx("strong",{children:"Ngày chiếu:"})," ",j]}),e.jsxs(r,{variant:"body1",gutterBottom:!0,children:[e.jsx("strong",{children:"Giờ chiếu:"})," ",v]})]}),e.jsxs(s,{item:!0,xs:12,sm:6,children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Thông Tin Vé"}),e.jsxs(r,{variant:"body1",gutterBottom:!0,children:[e.jsx("strong",{children:"Ghế:"})," ",x.join(", ")||"Chưa chọn ghế"]}),e.jsxs(r,{variant:"body1",gutterBottom:!0,children:[e.jsx("strong",{children:"Giá:"})," ",D.toLocaleString("vi-VN",{style:"currency",currency:"VND"})]}),e.jsxs(r,{variant:"body1",gutterBottom:!0,sx:{color:"#fbc02d",fontWeight:"bold",fontSize:"1.1rem",mt:1},children:[e.jsx("strong",{children:"Tổng cộng:"})," ",b.toLocaleString("vi-VN",{style:"currency",currency:"VND"})]})]})]})}),e.jsxs(h,{sx:{p:3,backgroundColor:"#1c1c1c",color:"white"},children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Thông Tin Khách Hàng"}),e.jsxs(s,{container:!0,spacing:2,sx:{mb:2},children:[e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(o,{label:"Họ tên",variant:"outlined",fullWidth:!0,value:i,onChange:t=>I(t.target.value),error:f,helperText:f?"Vui lòng nhập họ tên":"",InputLabelProps:{style:{color:"white"}},sx:{input:{color:"white"}}})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(o,{label:"Email",variant:"outlined",fullWidth:!0,value:a,onChange:t=>L(t.target.value),error:T,helperText:T?"Vui lòng nhập email":"",InputLabelProps:{style:{color:"white"}},sx:{input:{color:"white"}}})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(o,{label:"CMND",variant:"outlined",fullWidth:!0,value:l,onChange:t=>M(t.target.value),error:N,helperText:N?"Vui lòng nhập CMND":"",InputLabelProps:{style:{color:"white"}},sx:{input:{color:"white"}}})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(o,{label:"Số điện thoại",variant:"outlined",fullWidth:!0,value:c,onChange:t=>W(t.target.value),error:C,helperText:C?"Vui lòng nhập số điện thoại":"",InputLabelProps:{style:{color:"white"}},sx:{input:{color:"white"}}})})]}),e.jsx(u,{sx:{textAlign:"center",mt:3},children:e.jsx(q,{variant:"contained",color:"primary",onClick:G,children:"Xác nhận đặt vé"})})]})]})]})]}),e.jsx(J,{})]})};export{Z as default};
